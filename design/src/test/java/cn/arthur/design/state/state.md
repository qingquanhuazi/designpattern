目标：
1、掌握状态模式和备忘录模式的应用场景
2、了解状态机实现订单状态流转控制的过程
3、掌握状态模式和策略模式的区别
4、掌握状态模式和责任链模式的区别
5、掌握备忘录模式在落地实践中的压栈管理



定义：
状态模式也称为状态机模式,是允许对象在内部状态发生改变时改变它的行为,对象看起来好像修改了它的类

生活场景应用：
1、订单状态变化
2、电梯状态变化

适用场景：
1、行为随状态的改变而改变的场景
2、一个操作中含有庞大的多分枝机构,并且这些分支取决于对象的状态


3个角色：
1、context(环境类)：
环境类又称为上下文类，它是拥有多种状态的对象，由于环境类的状态存在多样性且在不同状态下对象的
行为有所不同。在环境类中维护一个抽象状态类state的实例，这个实例定义当前状态，在具体实现时它
是一个state子类的对象

2、state(抽象状态类):
  用于定义一个接口以封装与环境类的一个特点状态相关的行为，在抽象状态类中声明了各种不同状态对应的方法，
而其子类中实现了这些方法，由于不同状态下对象的行为可能不同，因此在不同子类中方法的实现可能存在不同，
相同的方法可以写在抽象状态类中

3、concreteState(抽象状态类):
它是抽象状态类的子类，每一个子类实现一个与环境类的一个状态相关的行为，每一个具体状态类对应环境
的一个具体状态，不同的具体状态类的行为有所不同

与状态模式相关的设计模式
1、状态模式侧重内部状态改变，责任链模式侧重外部节点对对象之间的改变，两者都可以消除if..else使用过多的情况
2、状态模式状态切换是有关联的，状态由内部切换，策略模式是客户端必须知道所有的策略,并且自行决定使用哪一个策略类


优点：
1、结构清晰，将状态独立为单独的类，消除if..else和switch..case
2、将状态转化显示化：通常的对象内部状态都是使用数值类型来定义状态，状态的切换是通过赋值进行表现的，不够直观；
而使用状态类，在切换状态时，是以不同的类进行表示，转化目的更加明确
3、状态类职责明确且具备拓展性

缺点：
1、类膨胀：如果一个事物具备很多状态,则会造成状态类太多
2、状态模式的结构与实现都较为复杂，如果使用不当将导致程序结构和代码混乱
3、状态模式不符合开闭原则，对于可以切换状态的状态模式，增加新的状态类需要修改那些负责状态转换的源代码，否则
无法切换到新增状态，而且修改某个状态类的行为也需要修改对应类源代码
